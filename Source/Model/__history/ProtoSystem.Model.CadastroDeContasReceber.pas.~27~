unit ProtoSystem.Model.CadastroDeContasReceber;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, FireDAC.Stan.Intf,
  FireDAC.Stan.Option, FireDAC.Stan.Param, FireDAC.Stan.Error, FireDAC.DatS,
  FireDAC.Phys.Intf, FireDAC.DApt.Intf, FireDAC.Stan.Async, FireDAC.DApt,
  Data.DB, FireDAC.Comp.DataSet, FireDAC.Comp.Client, Vcl.StdCtrls, Vcl.Grids,
  Vcl.DBGrids, Vcl.Buttons, Vcl.Mask, Vcl.DBCtrls, Vcl.ComCtrls;

type
  TFrm_CadastroContasReceber = class(TForm)
    SQL_DocumentosaReceber: TFDQuery;
    DS_DocumentosaReceber: TDataSource;
    Panel1: TPanel;
    Panel8: TPanel;
    Pnl_sair: TPanel;
    Shape19: TShape;
    SpeedButton6: TSpeedButton;
    Panel2: TPanel;
    Q: TPageControl;
    TabOperacao: TTabSheet;
    Panel4: TPanel;
    pnl_dados_user: TPanel;
    Panel15: TPanel;
    Shape34: TShape;
    edtID: TDBLabeledEdit;
    Panel5: TPanel;
    Shape1: TShape;
    edtNome: TDBLabeledEdit;
    Panel6: TPanel;
    Shape2: TShape;
    edtSenha: TDBLabeledEdit;
    TabPesquisa: TTabSheet;
    Panel3: TPanel;
    gridDocumentos: TDBGrid;
    edtPesquisa: TEdit;
    pnlButtons: TPanel;
    pnlEditar: TPanel;
    Shpeditar: TShape;
    btnEditar: TSpeedButton;
    pnlCadastrar: TPanel;
    ShpCadastrar: TShape;
    btnCadastrar: TSpeedButton;
    pnlSalvar: TPanel;
    shpSalvar: TShape;
    btnSalvar: TSpeedButton;
    pnlCancelar: TPanel;
    ShpCancelar: TShape;
    btnCancelar: TSpeedButton;
    pnlExcluir: TPanel;
    shpExcluir: TShape;
    btnExcluir: TSpeedButton;
    Panel9: TPanel;
    Shape4: TShape;
    btnPesquisaCliente: TSpeedButton;
    procedure SpeedButton6Click(Sender: TObject);
    procedure btnPesquisaClienteClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Frm_CadastroContasReceber: TFrm_CadastroContasReceber;

implementation

{$R *.dfm}

uses ProtoSystem.Controller.Dm, ProtoSystem.Model.PesquisaCliente;



procedure TFrm_CadastroContasReceber.btnPesquisaClienteClick(
  Sender: TObject);
begin
var
    frmPesquisaCliente: TfrmPesquisaCliente; // Declare uma variável para o formulário
  frmPesquisaCliente := TfrmPesquisaCliente.Create(Self);
  // Crie uma instância do formulário
  try
    dm.PesquisaClienteStatus:=true;
    frmPesquisaCliente.Visible:=false;
    frmPesquisaCliente.ShowModal; // Exiba o formulário de maneira modal
  finally
    frmPesquisaCliente.Free; // Libere a memória após fechar o formulário
  end;
  if dm.PesquisaClienteStatus=false then
    begin
      edtID.Text:= dm.IDCliente;
      edtNome.Text:= dm.NOMECliente;
    end;
end;

procedure TFrm_CadastroContasReceber.SpeedButton6Click(Sender: TObject);
begin
  close;
end;

end.
